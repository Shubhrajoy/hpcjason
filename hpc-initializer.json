{
	"$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
	"contentVersion": "1.0.0.0",
	"parameters":{};
	"variables":
	{
		"clusterName": "CZWSMXTHNSWA01",
		"virtualNetworkName": "vNet-Test-SST-SWA-SkyMAX",
		"virtualNetworkResourceGroupName": "SWA-SkyMAX-Test",
		"subnetName": "backend",
		"domainName": "swa.skysuite.io",
		"headNodeOS": "WindowsServer2016",
		"headNodeDiskType": "SSD",
		"headNodeVMSize": "Standard_DS13_V2",
		"computeNodeNamePrefix": "CZWSMXTCNSWA",
		"computeNodeNumber": 10,
		"computeNodeImage": "ComputeNodeOnWindowsServer2016",
		"computeNodeDiskType": "SSD",
		"computeNodeVMSize": "Standard_H16",
		"computeNodeInAVSet": "No",
		"adminUsername": "optym",
		"adminPassword": "DC@ServerR22",
		"hpcPackVersion": "latest",
		"vaultName": "test-skymax",
		"vaultResourceGroup": "skymax-test",
		"certificateUrl": "https://test-skymax.vault.azure.net/secrets/test-cert/1b5e28ed2be142ac83381531e3728dd1",
		"certThumbprint": "ED4C4D785BF296FE4C7053CC2E2F928A88DE3B87",
		"enableAcceleratedNetworking": "No",
	},
	resources: [
	{
		"name": "hpcdeployment",
		"type": "Microsoft.Resources/deployments",
		"apiVersion": "2017-05-10",
		"properties": {
			"mode": "Incremental",
			"templateLink": {
				"uri": "[concat(variables('sharedResxBaseUrl'), '/publicip-new.json')]",
				"contentVersion": "1.0.0.0"
			},
			"parameters": {
				"clusterName": {
					"value": "[variables('clusterName')]"
				},
				"virtualNetworkName": {
					"value": "[variables('virtualNetworkName')]"
				},
				"virtualNetworkResourceGroupName": {
					"value": "[variables('virtualNetworkResourceGroupName')]"
				},
				"subnetName": {
					"value": "[variables('subnetName')]"
				},
				"domainName": {
					"value": "[variables('domainName')]"
				},
				"headNodeOS": {
					"value": "[variables('headNodeOS')]"
				},
				"headNodeDiskType": {
					"value": "[variables('headNodeDiskType')]"
				},
				"headNodeVMSize": {
					"value": "[variables('headNodeVMSize')]"
				},
				"computeNodeNamePrefix": {
					"value": "[variables('computeNodeNamePrefix')]"
				},
				"computeNodeNumber": {
					"value": "[variables('computeNodeNumber')]"
				},
				"computeNodeImage": {
					"value": "[variables('computeNodeImage')]" 
				},
				"computeNodeDiskType": {
					"value": "[variables('computeNodeDiskType')]"
				},
				"computeNodeVMSize": {
					"value": "[variables('computeNodeVMSize')]"
				},
				"computeNodeInAVSet": {
					"value": "[variables('computeNodeInAVSet')]"
				},
				"adminUsername": {
					"value": "[variables('adminUsername')]"
				},
				"adminPassword": {
					"value": "[variables('adminPassword')]" 
				},
				"hpcPackVersion": {
					"value": "[variables('hpcPackVersion')]"
				},
				"vaultName": {
					"value": "[variables('vaultName')]"
				},
				"vaultResourceGroup": {
					"value": "[variables('vaultResourceGroup')]"
				},
				"certificateUrl": {
					"value": "[variables('certificateUrl')]"
				},
				"certThumbprint": {
					"value": "[variables('certThumbprint')]"
				},
				"enableAcceleratedNetworking": {
					"value": "[variables('enableAcceleratedNetworking')]"
				},
			}
		}
	  }
	],
	"outputs": {}
}